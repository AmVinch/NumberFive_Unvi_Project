<!-- by 유빈 -->
<!-- 관리자게시판 : 카테고리 등록  -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultra.net.nz/thymeleaf/layout" 
	layout:decorate="~{layout/base_layout}">
<th:block layout:fragment="css">
	<link rel="stylesheet" th:href="@{/css/menu.css}">
</th:block>
	
<div align="center" layout:fragment="content">
	
	<div class="row justify-center-center mt-3 mb-3" style="width: 80%;">
		<div class="col">
			<!-- 제목줄 -->
			<h3> 카테고리등록 </h3>
			<!-- 등록 줄 -->
			<form th:action="@{/board/regCate}" method="post" th:object="${boardCategoryVO}">
			<input type="hidden" th:field="*{cateNo}">
				 <div  class="row justify-center-center" style="width: 80%;">
					<div class="col-5">
						<span>카테고리명</span>
						<span><input id="cateNameId" class="form-control" th:field="*{cateName}" type="text" placeholder="카테고리명을 입력하세요." required></span>
					
					</div>
					<div class="col-5" >
						<span>사용여부</span>
						<span>
							<select th:field="*{isUse}" class="form-control">
								<option value="Y" selected>사용중</option>
								<option value="N">미사용</option>
							</select>
						</span>
					</div>
					<div class="col-2" style="padding: 20px; padding-top: 30px;" >
						<button type="submit" id="regBtn" class="btn btn-primary">등록</button>
					</div>
				</div>
			</form>
			<!-- 카테고리 no 테이블영역 -->			
			 <div class="row mt-3 " style="width: 80%;">
				<div class="col-12">
					<!-- 카테고리 목록줄 -->
					<div align="center">
						<h3>카테고리 목록</h3>
					</div>
					<!-- 갯수 표시줄 -->
					<div class="row" style="font: 10px;">
				       	<div  class="col-8 text-start" style="padding-top :5px; color: gray;"> ※ 총 <span th:text="${#lists.size(cateList)}"></span>개의 카테고리가 검색되었습니다. </div>
					    <!-- 선택삭제 버튼 영역 -->
					    <div class="col-4 text-end">
					    	 <form action="" method="post" id="cateForm">
					    	 	<input type="hidden" name="cateNos" id="cateNos" value=""><!-- 유의!! 여러개의 카테no 넘거야한다!!! -->
					    	 </form>
				    	 	<button id="deleteBtn"  style="padding: 5px;" type="button" class="btn btn-outline-dark" th:onclick="deleteCate(this);"> 
								선택삭제
							</button>
					    </div>
				    </div>
				    <!-- 테이블 영역 -->
					<div class="col-12 mt-3">
						<table class="table table-striped table-hover"  >
							<colgroup>
								<col width="*%">
								<col width="10%">
								<col width="45%">
								<col width="35%">
							</colgroup>
							<tr>
								<th><input type="checkbox" id="checkAll" checked="checked"></th>
								<th>No.</th>
								<th align="center">게시판 카테고리명</th>
								<th>사용여부</th>
							</tr>
							 <tbody>
								<th:block th:if="${#lists.size(cateList) != 0}">
									<tr th:each="cate, status : ${cateList}">
										<td><input type="checkbox" class="chk" th:value="${cate.cateNo}" checked></td>
										<td>
								      		<span th:text="${status.index+1}"></span>
								      	</td>
										<td th:text="${cate.cateName}"></td>
										<!-- <td th:text="${cate.isUse}"></td> -->
										<td id="isUseId">
									<span class="form-check form-check-inline">
				                       <input class="form-check-input " type="radio" th:name="|isUse_${status.count}|" 
				                       	id="isUse" value="Y" th:checked="${cate.isUse eq 'Y'}"
				                       	th:onclick="changeisUse([[${cate.cateNo}]], 'Y');" >       
				                       <label class="form-check-label" for="inlineRadio1">사용중</label>
				                     </span>
				                     <span class="form-check form-check-inline">
				                      <input class="form-check-input " type="radio" th:name="|isUse_${status.count}|" 
				                      	 id="isUnUse" value="N" th:checked="${cate.isUse eq 'N'}"
        	 				            	th:onclick="changeisUse([[${cate.cateNo}]], 'N');" >       
				                       <label class="form-check-label" for="inlineRadio2">미사용</label>
				                     </span>
								</td>
									</tr>
								</th:block>
								<th:block th:unless="${#lists.size(cateList) != 0}">
										<td colspan="4" align="center">조회된 카테고리 목록이 없습니다.</td>
								</th:block>
							</tbody> 
						</table>
					</div>
				</div>
			</div> 
		</div>
	</div>

<script type="text/javascript" th:src="@{/js/admin/board_admin.js}"></script>
	
</div>
</html>